{% extends "base.html" %}

{% block title %}Surah Generation{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10 col-lg-8">
        <!-- Single Surah Card -->
        <div class="card shadow-sm mb-4">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0">Create Single Surah Video</h3>
            </div>
            <div class="card-body">
                <form method="get" id="surah-form" action="/create-surah-video">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="surah-select" class="form-label">Select Surah:</label>
                            <select class="form-select" name="surah_number" id="surah-select">
                                {% for surah in surahs %}
                                    <option value="{{ surah.number }}">
                                        {{ surah.number }}. {{ surah.name }}
                                    </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="reciter1" class="form-label">Select Reciter:</label>
                            <select class="form-select" id="reciter1" name="reciter" required>
                                {% for r in reciters %}
                                <option value="{{r.key}}" {% if r.key == c_reciter %} selected="selected"{% endif %}>{{ r.english_name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">Enqueue Job</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- All Surahs Card -->
        <div class="card shadow-sm">
            <div class="card-header bg-dark text-white">
                <h3 class="mb-0">Queue Video Jobs for All Surahs</h3>
            </div>
            <div class="card-body">
                <form method="get" id="all-surah-form" action="/create-all-surah-videos">
                    <div class="mb-3">
                        <label for="reciter2" class="form-label">Select Reciter:</label>
                        <select class="form-select" id="reciter2" name="reciter" required>
                            {% for r in reciters %}
                                <option value="{{r.key}}" {% if r.key == c_reciter %} selected="selected"{% endif %}>{{ r.english_name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="alert alert-warning">
                        <strong>Note:</strong> This will create 114 separate video generation jobs.
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-dark btn-lg">Create 114 Jobs</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    // The forms already have the correct action attributes set in the HTML now, 
    // but I'll keep the prevDefault if there was logic intended there.
    // However, looking at the previous code, it was just setting the action which is already in HTML.
    // I'll simplify the script.
</script>

{% endblock %}